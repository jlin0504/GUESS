--------------------------------------CHANGE LOG---------------------------------------
2/3/17
Necromancer was here 
Updated continuum fitting:
1) removed ctm regions: 6736.1-6744.8103, 7779.3-7780, 7773.25-7773.75, 7885.7786-7886.0 A (updated hermes_continuum_160201.txt)
2) sigma filtering to get rid of spikes, default values are: CCD1-4: 3, 2, 2.7, 2.4 (changeable from guess_param.txt)
3) choices in different fitting functions: 'cheb' (chebyshev), 'poly' (polynomial), 'spline' (univariate spline). Default degrees are: CCD1-4: 3,4,9,7 (all cheb). Degrees changeable from guess_param.txt, but will need to go into the code to change the functions.
Known issues:
over-fitting of large spectral features (e.g., CCD3 of 150428000101007)
(((iterative fitting coming soon(ish)????)))

13/07/16
sneaky bug fix. 

13/02/16
new flag 'ctm_p' (=1) for *potentially* problematic continuum  
see issue flagging stars #3 for deets 
back to polynomial fitting for parameters 

06/02/16
Continuum regions are now fitted by ploynomials. Their orders can be specified in the parameter file. 
AMBRE models now stored on Stromlo 
new good_continuum
np.genfromtxt updated to numpy 1.10
fixed Parsing filenames #2

02/02/2016
Ly Duong
- Rejecting large streaks/cosmic rays residuals.

01/02/2016 
Ly Duong
- continuum fitting changed to:
 + quadratic spline for B band
 + quintic spline for IR band
 + continuum points are now much more smoothed out in all arms, which should stop the routine 
   from trying to fit local continuum variations.

- updated model wavelength grid from 
 + lscale4= np.loadtxt(plscale4)[:,0][50:-150]#7710.6577-7880.5470
   to
   lscale4= np.loadtxt(plscale4)[:,0][202:-80]#7694-7880.5
   (change not significant for RV & parameters determination)
 + new file: grid4.spec4  

- telluric_region changed from 7707A to 7694A to capture K7699. 

- continuum regions changed:
 + 2 new regions at the start of G band
 + removed end regions in IR arms that did not contain data & skewed the fit
 + new file: hermes_continuum_160201.dat

23/11/15
Ly Duong
- 4th CCD SNR added

23/10/15
migrated to git
if the saving folder doesn't exist, guess now creates it

21/10/15 
updated model wavelength gird from:
lscale1= np.loadtxt(plscale1)[:,0][200:-150]#4717.0471-4886.7621
lscale2= np.loadtxt(plscale2)[:,0][50:-150]#5651.2565- 5864.2118
lscale3= np.loadtxt(plscale3)[:,0][20:-150] #6483.1451-6729.374
lscale4= np.loadtxt(plscale4)[:,0][50:-150]#7710.6577-7880.5470
to: 
lscale1= np.loadtxt(plscale1)[:,0][354:3709]#4724.026-4876.022
lscale2= np.loadtxt(plscale2)[:,0][284:3723]#5564.05-5852.02
lscale3= np.loadtxt(plscale3)[:,0][337:3737] #6503.032-6716.26
lscale4= np.loadtxt(plscale4)[:,0][50:-150]#7710.6577-7880.5470
(ambre4.5new.p)

17/10/15
 added in warning for stars outside the model grid 
added new dir location in the guess_param.txt

